{{- if eq .chezmoi.os "windows" -}}
["Autohotkey"]
type = "git-repo"
url = "https://github.com/stianthaulow/autohotkey.git"
{{- end -}}

{{ $branch := "debian" }}
{{ if eq .chezmoi.os "windows" }}
  {{ $branch = "win11" }}
  {{ $currentBuild := atoi .chezmoi.windowsVersion.currentBuild }}
  {{ if lt $currentBuild 22000 }}
    {{ $branch = "win10" }}
  {{ end }}
{{ end }}

{{- if ne .chezmoi.os "linux" -}}
["Theme"]
type = "git-repo"
clone.args = ["-b {{- $branch -}}", "--single-branch"]
url = "https://github.com/stianthaulow/theme.git"
{{- end -}}


{{- if eq .chezmoi.osRelease.id "ubuntu" -}}
[".local/share/fonts/NerdFonts/JetBrainsMono"]
type = "archive"
url = "https://github.com/ryanoasis/nerd-fonts/releases/latest/download/JetBrainsMono.zip"
stripComponents = 0
exact = true
refreshPeriod = "168h"  # re-check weekly

[".local/bin/starship"]
type = "archive"
url = "https://github.com/starship/starship/releases/latest/download/starship-x86_64-unknown-linux-gnu.tar.gz"
stripComponents = 1
refreshPeriod = "168h"  # re-check weekly
{{- end -}}